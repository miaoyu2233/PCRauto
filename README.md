<p align="center">
  <img alt="LOGO" src="https://s2.loli.net/2024/10/06/XSPUyb2VKuA9DQT.png" width="270" height="270" />
</p>

<div align="center">

# PCRauto公主连结小助手
</div>

PCR 公主连结（PrincessConnect）**图像识别自动化小助手** ***PCRauto***  
**禁止将PCRauto用于任何商业盈利行为**  
**带GUI界面,缡乃都会操作**  
目前PCRauto  
**仅支持** **中国大陆简体字服**及**中国台湾繁体字服**和**日服**   
PCRauto支持大部分模拟器及DMM端,但推荐大家用比较主流的那几个  
本人不看Issues，请勿提交，有问题请加入企鹅群私聊反馈  
本项目由 [MaaFramework](https://github.com/MaaXYZ/MaaFramework)及[WFAWPF](https://github.com/SweetSmellFox/MFAWPF)强力驱动！  
>虽说公主连结不怎么肝,但是这个工具主要是为了方便玩公主连结的时候不用管还能节约时间去干其他事情而制作的  
>因为本人是咸鱼玩家，这个小助手主要是自己用的，所以本助手很多地方尽量实现收益最大化,没法满足所有玩家需求，可以自己看着先试试再说。本人是繁中服玩家,做出来主要还是自己使用的,所以其他服务器只会做部分功能适配,以后会慢慢添加。  

## 目前主要功能 <img alt="LOGO" src="https://s2.loli.net/2024/09/30/Xzy6tETFQWI2rAD.png" width="97.8" height="138" />
为了方便区分,单项功能**支持的服务器将用简写字母代替**  
F-繁体字服 J-简体字服 R-日服  

- 启动游戏(F)
- 行程表(F,J)
- 商店买药(F,J)
- 竞技场(F,J)
- 探险领取(F)
- 探险事件(F)
- 领取日常奖励(F,J)
- 主线扫荡预设(F,J)
- 领取礼物邮件(F,J)
- 遗迹/圣迹(F,J)
- 神殿(F,J)
- 挂机或关闭游戏(F)
- 巡游(F)
- 每日免费扭蛋(F)
- 公会小屋奖励(F)
- 小屋Like(F)
- 商店买角色碎片(F,J)
- 喂蛋糕好感(F,J)
- 角色剧情(F,J,R)
- 活动剧情(F,J)
- 露娜塔剧情(F,J)
- 刷当期活动(F)
- 刷支线活动(F)
- 公会乞讨装备(F)
- >其他功能待添加中

## 关于下载  <img alt="LOGO" src="https://s2.loli.net/2024/09/30/rYWS1x7HOKLiACj.png" width="128" height="83.5" />
**Releases**找到最新版下载即可
如果**下载慢**也可以加入企鹅群下载交流
    
    979858935  密码:りのPCRauto
## 注意事项 <img alt="LOGO" src="https://s2.loli.net/2024/09/30/PqVIaeT9itMj8yn.png" width="128" height="83.5" />
- 模拟器分辨率建议为 **1280x720(DPI 240)**  
- 理论上**任何安卓模拟器都能用**，但是还是建议大家用比较主流的那几个  
- 初次使用的小伙伴，在比较熟悉之前，**强烈建议按PCRauto小助手内默认的任务顺序添加运行**，以免产生不必要的BUG  

- 所有功能最初起点和终点都是**游戏主页**，如果要单独执行某个功能或某几个，请保证游戏**在主页**再**启动 PCRauto助手**  
- 请尽量**保持模拟器截图用时在300ms以下**，适当提高模拟器分配的性能大小来降低截图耗时。推荐多试几个截图捕获方式，找到比较合适的  

- 如果是**第一次**在模拟器上运行游戏,请将某些**第一次会出现的窗口(可可萝跑出来说一堆东西那种)**手动点了**再启动模拟器**,并且小助手默认是**动画之类的选择跳过**,请自行在设置内调整好  

- **设计之初已经考虑到了游戏网络延迟问题**，只要不是过高延迟就不会产生任何影响  
- 一键行程表需保证**没有在地下城的状态**  
- 大部分任务均有**是否已完成检测**功能，不用担心已经完成的任务会重复执行或产生BUG  

- 启动PCRauto小助手后请不要随意点击游戏内内容以免发生错误，把**模拟器缩放至后台**，就可以去干其他的事情了  
- **PCRauto-GUI无法自动更新时**，请**手动下载**最新版本PCRauto-GUI  

## 功能详情简介<img alt="LOGO" src="https://s2.loli.net/2024/09/30/Xzy6tETFQWI2rAD.png" width="97.8" height="138" />
- **自动启动游戏**  
>自动寻找游戏启动，并自动下载游戏内更新资源，自动取消弹窗等。但大版本更新等需要跳转到商店更新的无法自动更新  
- **行程表**  
>行程表提高了兼容性，现在允许每个玩家的不同设置均可正常执行，但是为了兼容性，牺牲了运行速度，请见谅  
- **自动看剧情**
>自动寻找new的角色剧情并观看，请注意，下载剧情时长不能超过3分钟。因其特殊性，仅自动看活动剧情以及看露娜塔剧情完成后不会自动返回至主页。如果在看动画时点了暂停属于正常现象，它会点一下暂停看一段时间再点一下暂停，慢慢挂是能看完的（懒得改了,所以目前就这样）  
- **余下4次竞技场**
>自动刷剩下4次竞技场，首次启动后会等待5分钟冷却时间保证竞技场已刷新冷却，后面循环同理
- **巡游**  
>巡游由于事件多，所以执行有点慢这是正常现象，请耐心等待  
- **主线扫荡预设**
>选择预设选项的内容进行扫荡  
- **刷支线活动**
>小助手会自动寻找处于"new"状态下的支线活动（也可手动进入要刷的活动页面内执行任务）  
>当前任务会执行完除了HARD—BOSS以及VERY HARD-BOSS以外的所有关卡，执行完后会自动返回到主页面  
>请注意：如果在执行完所有任务之前中断了执行返回了页面，需要手动进入当前活动内，再执行此项任务计划  
- **其他功能介绍**  
>待编写  

## 璃乃都能学会的使用教程!  <img alt="LOGO" src="https://s2.loli.net/2024/09/30/PqVIaeT9itMj8yn.png" width="128" height="83.5" />
**点击Releases下载最新版程序(建议Windows系统用户直接下PCRauto-GUI,有GUI界面)**  

**Windows系统用户**  
- 如果是PCRauto-GUI用户,下载好解压，打开PCRauto.exe即可
- 启动好模拟器后，打开PCRauto，第一次使用需要点时间自动检测模拟器adb，请耐心等待或多点几次,如未检测到，请手动选择    
- PCRauto小助手GUI版每次更新需要自己手动重新下载  
- 完成后，选择任务，开始任务就可以了（强烈建议按PCRauto内默认的顺序添加，效果更佳）  
- 启动任务后，请不要随意乱点击游戏内内容，推荐将模拟器缩放至后台就可以去干其他事情了  

**其他系统用户**  
- 解压文件
- 执行PCRauto.exe，输入数字即可执行对应指令
- 选择Auto detect （自动寻找模拟器adb），选择自己的模拟器
- 选择Add task(加添任务) 同理Delete task为删除任务
- 添加好自己想要的任务后，选择Runtasks(开始启动任务)（强烈建议按PCRauto内默认的顺序添加，效果更佳）  
- 启动任务后，请不要随意乱点击游戏内内容，推荐将模拟器缩放至后台就可以去干其他事情了  

## Q&A常见问题 <img alt="LOGO" src="https://s2.loli.net/2024/09/30/rYWS1x7HOKLiACj.png" width="128" height="83.5" />
出现问题时可参考此逐一排查  
- PCRauto执行部分任务较慢  
>公主连结在部分页面切换或执行时需请求网络连接，由于大部分人都是使用加速器等连接游戏的，网络有时会有波动，未了保证大部分人的网络环境及大部分网络情况都能稳定准确运行，所以有些地方小助手在执行时会有点慢，请见谅.简体字版和日版部分也慢是因为用的是同一逻辑，主要是便于维护（其实是我懒）
- PCRauto无法启动,闪退,报错
>PCRauto-GUI版仅支持64位操作系统  
>请确保含有[.NET 8](https://dotnet.microsoft.com/zh-cn/download/dotnet/8.0#:~:text=%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6-,Windows,-Arm64)以及
[Microsoft Visual C++可再发行程序包](https://learn.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist?view=msvc-170#visual-studio-2015-2017-2019-and-2022)
对应你操作系统的环境即可  
>请确保选择的是你当前的模拟器，点击加载的圆圈按钮可自动查找当前模拟器位置并填入  
>确保文件打开时没被杀毒软件删除了一部分文件(一般是不会的)  
- PCRauto启动后并没有报错，但是没有在执行操作动作  
> 请不要开启模拟器的动态调整帧率功能以及后台挂机保活功能  
关闭小助手后请查看adb进程是否还在，请手动结束adb进程再启动PCRauto小助手(win系统电脑可打开任务管理器找到adb.exe进程进行关闭即可)    
- 多个模拟器启动后PCRauto选择的并不是自己想要的模拟器  
>多开模拟器时模拟器会被分配至其他ADB端口，只需要自动搜索模拟器后选择和自己需要使用的端口一致的模拟器即可。  
>不懂模拟器端口是什么的，请自行网络上搜索自己模拟器的端口如何查看  
- 关闭PCRauto后无法再次启动  
>请关闭模拟器的adb进程后再重新启动小助手，win系统电脑可打开任务管理器找到adb.exe进程进行关闭即可 

## 关于日服 <img alt="LOGO" src="https://s2.loli.net/2024/09/30/Xzy6tETFQWI2rAD.png" width="97.8" height="138" />  
日服模拟器版和其他服一致，无需额外配置  
DMM版本由于其特殊性，所以需要额外进行配置，请按下方顺序进行配置  
**DMM版PC服教程**  
- DMM版公主连结也必须以720P分辨率运行（将鼠标移至窗口角落将窗口拉大,如果拉不动了则表示为720P分辨率）  
- PCRauto小助手需以管理员身份运行  
- 启动好PCRauto小助手后,请选择PCWin32模式，再在右侧选择好公主连结的程序窗口(PrincessConnectReDive)  
- 由于DMM端特殊性，启动任务后，不可将公主连结缩放至后台，并且不可使用鼠标键盘等进行输入操作（就是电脑不能碰了）  
